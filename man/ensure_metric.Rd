% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/process_sim_study.R
\name{ensure_metric}
\alias{ensure_metric}
\title{Ensure a derived metric column exists in a duq_sim_study}
\usage{
ensure_metric(
  obj,
  metric,
  ties_method = "min",
  epsilon = 0,
  upper_bound = Inf,
  log = TRUE,
  trim = 0
)
}
\arguments{
\item{obj}{A \code{duq_sim_study} object.}

\item{metric}{Character; name of the column to check or compute.}

\item{ties_method}{Passed to ranking functions (default "min").}

\item{epsilon}{Optional smoothing constant for relative metrics.}

\item{log}{Logical; for relative metrics, whether to use log scale.}

\item{trim}{Numeric; for normalize, fraction to trim when computing mean/sd.}
}
\value{
The same \code{duq_sim_study} object with the requested metric column present.
}
\description{
If the requested metric column is missing, compute it based on its suffix.
Supports \code{_rank}, \code{_auc}, \code{_rel}, \code{_rel_log}, and \code{_norm}.
}
